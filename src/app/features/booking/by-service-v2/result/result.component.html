<!-- Hiển thị loading khi lấy dữ liệu ban đầu -->
<div *ngIf="loading" class="flex flex-col items-center justify-center py-12">
  <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600"></div>
  <span class="mt-4 text-sky-700 font-medium text-lg">Đang xử lý kết quả đặt lịch...</span>
</div>

<div *ngIf="!loading" class="p-4 pt-2">
  <!-- Chờ load xong mới hiển thị kết quả -->
  <ng-container *ngIf="!loading">
    <!-- Nếu có dữ liệu appointment → show Success, else → show Failure -->
    <ng-container *ngIf="appointment; else failureTpl">
      <app-booking-success [appointment]="appointment"></app-booking-success>
    </ng-container>
    <ng-template #failureTpl>
      <app-booking-failure></app-booking-failure>
    </ng-template>
  </ng-container>
</div>
