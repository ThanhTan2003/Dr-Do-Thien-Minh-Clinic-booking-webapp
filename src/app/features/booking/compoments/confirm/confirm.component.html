<router-outlet #childOutlet="outlet"></router-outlet>

<!-- Chỉ hiển thị khi chưa có child route active -->
<div *ngIf="!childOutlet.isActivated">
  <!-- Nút Quay lại -->
  <div class="text-center pb-2 p-4">
    <button
      (click)="goBack()"
      class="w-full h-12 border-2 border-cyan-700 text-cyan-700 font-bold rounded-lg bg-white hover:bg-cyan-50 transition duration-300"
    >
      <fa-icon [icon]="faArrowLeft"></fa-icon>&nbsp; Quay lại
    </button>
  </div>

  <!-- Tiêu đề XÁC NHẬN THÔNG TIN -->
  <div class="text-center pb-2 p-4">
    <h1
      class="text-2xl font-bold relative"
      style="
        background: linear-gradient(to right, #0078B7, #00A3E0);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      "
    >
      XÁC NHẬN THÔNG TIN
    </h1>
    <div class="mt-2 w-32 mx-auto h-1 bg-gradient-to-r from-cyan-600 to-blue-800 rounded-full"></div>
  </div>

  <!-- Nội dung: Hồ sơ và Thông tin đặt khám -->
  <!-- Nội dung: Hồ sơ và Thông tin đặt khám -->
<div class="grid grid-cols-1 sm:grid-cols-2 gap-4 p-4">
  <!-- HỒ SƠ ĐẶT KHÁM -->
  <div class="bg-white rounded-lg p-3 flex flex-col justify-between relative border border-sky-600">
    <div class="text-xl font-bold text-sky-800 mb-2">HỒ SƠ ĐẶT KHÁM</div>
    <hr class="border-sky-600 mb-2" />
    <div class="grid grid-cols-1 gap-2">
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Mã hồ sơ:</p>
        <p>{{ patient?.id || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Họ tên:</p>
        <p>{{ patient?.fullName || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Giới tính:</p>
        <p>{{ patient?.gender || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Ngày sinh:</p>
        <p>{{ patient?.dateOfBirth | date:'dd/MM/yyyy':'en-GB' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Số điện thoại:</p>
        <p>{{ patient?.phoneNumber || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Số căn cước:</p>
        <p>{{ patient?.identityCard || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Số thẻ BHYT:</p>
        <p>{{ patient?.insuranceId || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Địa chỉ:</p>
        <p>{{ patient?.address || '...' }}</p>
      </div>
    </div>
  </div>

  <!-- THÔNG TIN ĐẶT KHÁM -->
  <div class="bg-white rounded-lg shadow-md p-3 flex flex-col justify-between relative border border-sky-600">
    <div class="text-xl font-bold text-sky-800 mb-2">THÔNG TIN ĐẶT KHÁM</div>
    <hr class="border-sky-600 mb-2" />
    <div class="grid grid-cols-1 gap-2">
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Dịch vụ:</p>
        <p>{{ doctorService?.serviceResponse?.serviceName || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Bác sĩ:</p>
        <p>{{ doctorService?.doctorResponse?.name || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Ngày khám:</p>
        <p>{{ (appointmentDate || '...') | date:'dd/MM/yyyy':'en-GB' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Giờ khám:</p>
        <p>{{ doctorSchedule?.timeFrameResponse?.fullName || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Phòng khám:</p>
        <p>{{ doctorSchedule?.roomName || '...' }}</p>
      </div>
      <div class="grid [grid-template-columns:4fr_6fr] gap-2">
        <p class="font-semibold">Phí khám bệnh:</p>
        <p>{{ doctorService?.serviceResponse?.price || '...' }}</p>
      </div>
    </div>
  </div>
</div>

  <!-- Nút XÁC NHẬN ĐẶT LỊCH -->
  <div class="text-center pt-1 p-4 pb-6">
    <button
      (click)="openConfirm()"
      class="w-full h-12 bg-sky-700 text-white font-bold rounded-lg hover:bg-sky-600 transition duration-300"
    >
      Xác nhận đặt lịch
    </button>
  </div>

  <!-- Modal Confirm -->
<app-modal-confirm
*ngIf="isConfirmModalOpen"
title="HOÀN TẤT ĐẶT LỊCH"
content="Bạn xác nhận muốn đặt lịch khám theo thông tin trên? Nhấn 'Đồng ý' để hoàn tất."
(confirm)="handleConfirm()"
(cancel)="isConfirmModalOpen = false"
></app-modal-confirm>
</div>


